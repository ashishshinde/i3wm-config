# =============================================================================
# I3WM CONFIG - ORGANIZED & OPTIMIZED FOR ASUS ROG (UBUNTU 25.10)
# =============================================================================

# --- FONTS (Plasma-like Style) ---
font pango:Noto Sans Regular 13

# --- VARIABLES & COLORS ---
set $mod Mod4
set_from_resource $color00_i3wmthemer color0
set_from_resource $color01_i3wmthemer color1
set_from_resource $color02_i3wmthemer color2
set_from_resource $color03_i3wmthemer color3
set_from_resource $color04_i3wmthemer color4
set_from_resource $color05_i3wmthemer color5
set_from_resource $color06_i3wmthemer color6
set_from_resource $color07_i3wmthemer color7
set_from_resource $color08_i3wmthemer color8
set_from_resource $color09_i3wmthemer color9
set_from_resource $color10_i3wmthemer color10
set_from_resource $color11_i3wmthemer color11
set_from_resource $color12_i3wmthemer color12
set_from_resource $color13_i3wmthemer color13
set_from_resource $color14_i3wmthemer color14
set_from_resource $color15_i3wmthemer color15
set_from_resource $foreground_i3wmthemer foreground
set_from_resource $background_i3wmthemer background

# Audio variables
set $volumepath ~/.config/i3/i3-volume
set $volumestep 5

# --- CORE BEHAVIOR ---
floating_modifier $mod
default_border pixel 1
default_floating_border pixel 1
hide_edge_borders smart

# --- KEYBINDINGS: SYSTEM ---
bindsym $mod+Return       exec "$HOME/.config/i3/terminal.sh"
bindsym $mod+Shift+q      kill
bindsym $mod+d            exec dmenu_run
bindsym $mod+Shift+c      reload
bindsym $mod+Shift+r      restart
bindsym $mod+Shift+e      exec sh -c '[ $(echo "NO\nYES" | dmenu -sb "#ff6600" -i -p "Really exit i3?") = "YES" ] && i3-msg exit'
bindsym Control+Mod1+l    exec "i3lock -t -i $HOME/.lockscreen.png"

# --- KEYBINDINGS: NAVIGATION ---
bindsym $mod+Left          focus left
bindsym $mod+Down          focus down
bindsym $mod+Up            focus up
bindsym $mod+Right         focus right
bindsym $mod+Shift+Left    move left
bindsym $mod+Shift+Down    move down
bindsym $mod+Shift+Up      move up
bindsym $mod+Shift+Right   move right

bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Right move workspace to output right


# --- KEYBINDINGS: LAYOUT & ORIENTATION ---
bindsym $mod+h             split h
bindsym $mod+v             split v
bindsym $mod+f             fullscreen toggle
bindsym $mod+s             layout stacking
bindsym $mod+w             layout tabbed
bindsym $mod+e             layout toggle split
bindsym $mod+Shift+space   floating toggle
bindsym $mod+space         focus mode_toggle
bindsym $mod+a             focus parent

# --- KEYBINDINGS: WORKSPACES ---
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# --- WINDOW RESIZE ---
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"


# --- KEYBINDINGS: APPLICATION SHORTCUTS ---
bindsym $mod+b             exec /usr/bin/firefox
bindsym $mod+m             exec $HOME/bin/emacs-gui.sh
bindsym $mod+i             workspace 4; exec $HOME/tools/idea/bin/idea.sh
bindsym $mod+Shift+v       exec "/usr/bin/variety -n"

# --- HARDWARE CONTROLS ---
bindcode 210               exec --no-startup-id "$HOME/.config/i3/asus-aura-next.sh"
bindsym XF86MonBrightnessUp   exec light -A 5
bindsym XF86MonBrightnessDown exec light -U 5
# Volume via i3-volume script
bindsym XF86AudioRaiseVolume  exec --no-startup-id $volumepath/volume -an -t i3status -u SIGUSR1 up $volumestep
bindsym XF86AudioLowerVolume  exec --no-startup-id $volumepath/volume -an -t i3status -u SIGUSR1 down $volumestep
bindsym XF86AudioMute         exec --no-startup-id $volumepath/volume -an -t i3status -u SIGUSR1 mute

# --- WINDOW RULES ---
for_window [class="Slack"] move container to workspace 1
for_window [class="grub-emu"] floating enable
for_window [title="xfce4-notifyd"] floating enable, border none
for_window [class="Blueman-manager"] floating enable
for_window [class="Key-mon"] floating enable, border none


# --- BAR ---
bar {
    status_command conky -c $HOME/.config/i3/conky/conkyrc.lua
    mode hide
    hidden_state hide
    modifier Mod4
    position bottom
    strip_workspace_numbers yes
    font pango:Noto Sans Regular 10
    colors {
        background #000000
        statusline #FFFFFF
        separator #51c4d4
        focused_workspace  #252525 #252525 #4FC0E8
        inactive_workspace #252525 #252525 #C1D1E0
    }
}

# --- WINDOW COLORS (Gray Focused, Black Unfocused) ---
# Target                border  backgr. text    indicator child_border
client.focused          #000000 #131411 #FFFFFF #131411   #080808
client.focused_inactive #333333 #333333 #FFFFFF #484E50   #080808
client.unfocused        #222222 #222222 #888888 #292D2E   #080808
client.urgent           #2F343A #900000 #FFFFFF #900000   #900001
client.placeholder      #000000 #0C0C0C #FFFFFF #000000   #0C0C0C

# --- STARTUP SEQUENCING ---
exec --no-startup-id dunst
exec --no-startup-id snixembed
exec --no-startup-id nm-applet
exec --no-startup-id blueman-applet
exec --no-startup-id xset -dpms
exec --no-startup-id $HOME/.config/i3/set-dpi.sh
exec --no-startup-id xinput set-prop "ASUF1205:00 2808:0106 Touchpad" "libinput Tapping Enabled" 1
exec --no-startup-id picom -b --config /home/ashish/.config/picom.conf
exec --no-startup-id jetbrains-toolbox &
exec i3-msg 'workspace 5; exec /usr/bin/konsole'
exec i3-msg 'workspace 2; exec /usr/bin/firefox https://gmail.com'